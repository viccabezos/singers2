# Implementation Plan: Public App PRD

## Overview
Breaking down the PRD implementation into 4 manageable OpenSpec changes that can be implemented independently.

## Proposed Changes

### Change 1: `implement-public-home-page`
**Priority:** High  
**Scope:** Home page with current event banner and upcoming events list

**Features:**
- Current event banner (prominent, clickable)
- Upcoming events list (5-10 events, sorted chronologically)
- "View All Events" link
- Mobile-first responsive design
- Empty state handling

**Files to Create/Modify:**
- `app/(public)/page.tsx` (replace default template)
- `app/(public)/home/page.tsx` (optional, if separating logic)
- Shared components for event cards

**Dependencies:** None

---

### Change 2: `implement-public-events-list`
**Priority:** High  
**Scope:** Events list page at `/events`

**Features:**
- `/events` route
- Grid/list layout for event cards
- Event card component (reusable)
- Chronological sorting
- Responsive breakpoints
- Empty state

**Files to Create/Modify:**
- `app/(public)/events/page.tsx`
- `app/(public)/events/event-card.tsx` (component)

**Dependencies:** None (can be done in parallel with Change 1)

---

### Change 3: `add-public-navigation`
**Priority:** Medium  
**Scope:** Shared navigation components across all public pages

**Features:**
- Header component with logo/home link
- Consistent header across all pages
- Breadcrumb navigation (Home > Event > Playlist > Song)
- Update existing pages (event, playlist, song) to use shared components
- Optional footer

**Files to Create/Modify:**
- `widgets/public-header/` (new widget)
- `widgets/public-breadcrumbs/` (new widget)
- `app/(public)/layout.tsx` (add header)
- `app/(public)/event/[id]/event-display.tsx` (add breadcrumbs)
- `app/(public)/playlist/[id]/playlist-display.tsx` (add breadcrumbs)
- `app/(public)/song/[id]/lyrics-display.tsx` (add breadcrumbs)

**Dependencies:** 
- Change 1 (Home Page) - for home link
- Change 2 (Events List) - for events link in breadcrumbs

---

### Change 4: `add-public-error-handling`
**Priority:** Medium  
**Scope:** Error pages and handling

**Features:**
- 404 Not Found page
- Friendly error messages
- Navigation options (Go home, Browse events)
- Consistent styling
- Generic error page

**Files to Create/Modify:**
- `app/(public)/not-found.tsx`
- `app/(public)/error.tsx`
- Error boundary components

**Dependencies:** None (can be done anytime)

---

## Implementation Order

**Option A: Sequential (Recommended)**
1. Change 4 (Error Handling) - Foundation
2. Change 1 (Home Page) - Core entry point
3. Change 2 (Events List) - Navigation target
4. Change 3 (Navigation) - Ties everything together

**Option B: Parallel**
- Changes 1, 2, and 4 can be done in parallel
- Change 3 must wait for 1 and 2

---

## Technical Considerations

### Shared Components Needed
- EventCard component (used in Home and Events List)
- Header component
- Breadcrumb component
- Error display component

### Data Requirements
- `getCurrentEvent()` - Get event marked as current
- `getUpcomingEvents(limit)` - Get upcoming visible events
- `getAllUpcomingEvents()` - Get all upcoming events for list page

### Styling Consistency
- Use existing color scheme (zinc-based)
- Maintain dark mode support
- Follow mobile-first approach
- Ensure 44px touch targets

---

## Verification Steps

For each change:
1. Run `npm run lint` - No errors
2. Run `npm run build` - Build succeeds
3. Test on mobile viewport - Touch targets work
4. Test dark mode - Colors correct
5. Test error scenarios - Graceful handling

---

## Next Steps

1. **User Decision:** Choose implementation order (sequential or parallel)
2. **Create OpenSpec Changes:** I can create all 4 changes now, or one at a time
3. **Begin Implementation:** Start with first change

**Question:** Would you like me to:
- A) Create all 4 OpenSpec changes now so you can track them
- B) Create them one at a time as we implement
- C) Start implementing Change 1 directly without formal OpenSpec changes
